import{C as i,a as d}from"./Cog89R7j.js";import{g as o,D as s,F as a,a4 as u}from"./Qy2zR8tU.js";import"./D_leUspb.js";import"./DBx8DESn.js";const p={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},O=o({props:{options:Object},data(){return{renderId:0,customRenderingMap:new Map}},methods:{getApi(){return this.calendar},buildOptions(e){return{...e,customRenderingMetaMap:h(this.$slots),handleCustomRendering:this.handleCustomRendering}}},render(){const e=[];for(const t of this.customRenderingMap.values())e.push(s(c,{key:t.id,customRendering:t}));return s("div",{attrs:{"data-fc-render-id":this.renderId}},s(a,e))},mounted(){const e=new i;this.handleCustomRendering=e.handle.bind(e);const t=this.buildOptions(this.options),n=new d(this.$el,t);this.calendar=n,n.render(),e.subscribe(r=>{this.customRenderingMap=r,this.renderId++,this.needCustomRenderingResize=!0})},beforeUpdate(){this.getApi().resumeRendering()},updated(){this.needCustomRenderingResize&&(this.needCustomRenderingResize=!1,this.getApi().updateSize())},beforeUnmount(){this.getApi().destroy()},watch:l()}),c=o({props:{customRendering:Object},render(){const e=this.customRendering,t=typeof e.generatorMeta=="function"?e.generatorMeta(e.renderProps):e.generatorMeta;return s(u,{to:e.containerEl},t)}});function l(){let e={options:{deep:!0,handler(t){let n=this.getApi();n.pauseRendering();let r=this.buildOptions(t);n.resetOptions(r),this.renderId++}}};for(let t in p)e[`options.${t}`]={deep:!0,handler(n){if(n!==void 0){let r=this.getApi();r.pauseRendering(),r.resetOptions({[t]:n},[t]),this.renderId++}}};return e}function h(e){const t={};for(const n in e)t[m(n)]=e[n];return t}function m(e){return e.split("-").map((t,n)=>n?g(t):t).join("")}function g(e){return e.charAt(0).toUpperCase()+e.slice(1)}export{O as default};
